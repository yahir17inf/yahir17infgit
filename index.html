<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>C.E.M.N.G. DIONISIO DE HERRERA</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800;900&display=swap" rel="stylesheet">
  <style>
    :root{ --fg:#0a0a0a; --bg:#ffffff; --accent:#c8102e; --ink:#111; --speed: 2.8s; }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0; font-family:Inter, system-ui, Segoe UI, Roboto, Arial; color:var(--fg); background:var(--bg);}

    /* ===== BACKGROUND ===== */
    .bg{position:fixed; inset:0; z-index:0; overflow:hidden; background:
      radial-gradient(1000px 480px at 12% -8%, rgba(200,16,46,.14) 0%, transparent 60%),
      radial-gradient(900px 520px at 110% 8%, rgba(0,0,0,.16) 0%, transparent 60%),
      var(--bg);
    }

    /* ===== HEADER / NAV ===== */
    .site-header{position:fixed; top:0; left:0; right:0; z-index:20; display:flex; align-items:center; gap:12px; padding:10px 16px; backdrop-filter:saturate(140%) blur(8px); background:rgba(255,255,255,.75); border-bottom:1px solid #eee}
    .site-header .logo{display:flex; align-items:center; gap:8px; text-decoration:none; color:inherit}
    .site-header .logo span{font-weight:900; letter-spacing:.5px}

    .nav-toggle{margin-left:auto; appearance:none; border:2px solid var(--accent); background:#fff; padding:8px 12px; border-radius:12px; cursor:pointer; font-weight:800}

    .site-nav{position:fixed; top:58px; right:16px; z-index:19; display:none; min-width:220px; border:2px solid var(--accent); border-radius:16px; background:#fff; box-shadow:0 18px 46px rgba(0,0,0,.25);}
    .site-nav.open{display:block}
    .site-nav a{display:block; padding:12px 14px; text-decoration:none; color:#111; font-weight:700; border-bottom:1px solid #f1f1f1}
    .site-nav a:last-child{border-bottom:0}
    .site-nav a:hover{background:#fff5f6}

    /* Desktop nav (>= 900px) */
    @media (min-width: 900px){
      .nav-toggle{display:none}
      .site-nav{all:unset; margin-left:auto; display:flex; gap:8px}
      .site-nav a{border:2px solid var(--accent); border-radius:999px; padding:8px 12px; background:#fff; transition:.25s; box-shadow:0 6px 18px rgba(200,16,46,.12)}
      .site-nav a:hover{background:var(--accent); color:#fff}
    }

    /* ===== HERO ===== */
    .hero{min-height:100svh; display:grid; place-items:center; padding:120px 20px 56px; position:relative; z-index:1; opacity:0; pointer-events:none; transform:translateY(8px)}
    .loaded .hero{opacity:1; pointer-events:auto; transform:translateY(0); transition:opacity .5s ease .05s, transform .5s ease .05s}
    .hero-inner{width:min(1120px, 92vw); display:grid; justify-items:center; text-align:center; gap:22px}
    .hero-logo{width:140px; filter:url(#wavy) drop-shadow(0 10px 26px rgba(0,0,0,.35)); display:block}
    .wordmark{font-size: clamp(34px, 8vw, 72px); font-weight:900; line-height:1; margin:0}
    .wordmark span{display:inline-block; position:relative; --g:conic-gradient(from 180deg, #ff2a2a, #6a0000, #111, #ff2a2a); background:var(--g); background-size:200% 200%;
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; animation:swirl 6s ease-in-out infinite}
    @keyframes swirl{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
    .sub{font-size:clamp(16px, 2.4vw, 20px); color:#1a1a1a; max-width:70ch; opacity:.9}
    .actions{display:flex; gap:12px; flex-wrap:wrap; justify-content:center}
    .btn{appearance:none; border:2px solid var(--accent); background:linear-gradient(#fff,#f3f3f3); color:var(--accent); padding:12px 18px; border-radius:12px; cursor:pointer; font-weight:800; text-decoration:none; transition:.25s; box-shadow:0 8px 20px rgba(200,16,46,.16)}
    .btn:hover{background:var(--accent); color:#fff; transform:translateY(-1px)}

    /* Spacing fix when header overlaps */
    main{display:block}

    /* ===== INTRO OVERLAY ===== */
    .intro{position:fixed; inset:0; display:grid; place-items:center; z-index:10; pointer-events:none}
    .intro::before{content:""; position:absolute; inset:0; background:var(--bg);
      -webkit-mask: radial-gradient(circle at 50% 55%, transparent 0, transparent 0, #000 0);
              mask: radial-gradient(circle at 50% 55%, transparent 0, transparent 0, #000 0);
      animation: open var(--speed) ease-out forwards;}
    @keyframes open{0%{ -webkit-mask:radial-gradient(circle at 50% 55%, transparent 0, transparent 0, #000 0)}
                    60%{ -webkit-mask:radial-gradient(circle at 50% 55%, transparent 12vmax, transparent 12vmax, #000 12vmax)}
                    100%{ -webkit-mask:radial-gradient(circle at 50% 55%, transparent 140vmax, transparent 140vmax, #000 140vmax)} }

    .intro-content{position:relative; display:grid; place-items:center; gap:16px; text-align:center; transform:translateZ(0)}
    .intro-logo{width:min(180px, 30vw); filter:url(#wavy) drop-shadow(0 18px 46px rgba(0,0,0,.5)); animation:zoomLogo var(--speed) cubic-bezier(.2,.8,.2,1) forwards}
    .intro-title{font-size:clamp(28px, 9vw, 120px); font-weight:900; margin:0; line-height:.95; letter-spacing:.02em; 
      background:conic-gradient(from 180deg, #ff2a2a, #6a0000, #111, #ff2a2a); background-size:200% 200%;
      -webkit-background-clip:text; background-clip:text; -webkit-text-fill-color:transparent; animation: swirl 4.5s ease-in-out infinite, zoomTitle var(--speed) cubic-bezier(.2,.8,.2,1) forwards}
    .intro-sheen{position:absolute; inset:0; pointer-events:none;}
    .intro-sheen::before{content:""; position:absolute; top:-40%; left:-50%; width:60%; height:200%; background:linear-gradient(120deg, transparent 35%, rgba(255,255,255,.95) 50%, transparent 65%); transform:rotate(18deg) translateX(-140%); animation:sweep calc(var(--speed)*.8) ease-in-out infinite}
    @keyframes sweep{0%{transform:rotate(18deg) translateX(-140%)}60%{transform:rotate(18deg) translateX(160%)}100%{transform:rotate(18deg) translateX(160%)}}
    @keyframes zoomLogo{0%{transform:scale(1.3); opacity:0}35%{opacity:1}100%{transform:scale(.72); opacity:0}}
    @keyframes zoomTitle{0%{transform:scale(1.1); opacity:0}35%{opacity:1}100%{transform:scale(.78); opacity:0}}

    .topbar, .hero { opacity:0; pointer-events:none; transform:translateY(8px) }
    .loaded .topbar, .loaded .hero { opacity:1; pointer-events:auto; transform:translateY(0); transition:opacity .5s ease .05s, transform .5s ease .05s }

    /* ===== MODAL "INFORMACIÓN" ===== */
    .modal{position:fixed; inset:0; z-index:30; display:none;}
    .modal.open{display:grid; place-items:center}
    .modal-backdrop{position:absolute; inset:0; background:rgba(0,0,0,.55); backdrop-filter: blur(4px)}
    .sheet{position:relative; z-index:1; width:min(900px,92vw); border:2px solid var(--accent); border-radius:20px; background:#fff; box-shadow:0 30px 80px rgba(0,0,0,.35); overflow:hidden}
    .sheet-header{display:flex; align-items:center; gap:10px; padding:14px 16px; border-bottom:1px solid #eee}
    .badge{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background:#fff0f2; color:var(--accent); border:1px solid var(--accent); font-weight:800}
    .close{margin-left:auto; border:0; background:#fff; padding:8px 10px; border-radius:10px; font-weight:800; cursor:pointer; border:1px solid #eee}

    .searchbar{display:flex; align-items:center; gap:10px; padding:14px 16px}
    .searchbar input{flex:1; padding:12px 14px; border:2px solid var(--accent); border-radius:12px; font-size:16px}

    .chips{display:flex; gap:8px; padding:0 16px 14px; flex-wrap:wrap}
    .chip{border:1px solid #ddd; background:#f7f7f7; padding:8px 12px; border-radius:999px; cursor:pointer; font-weight:700}
    .chip:hover{border-color:var(--accent)}

    .results{max-height:50vh; overflow:auto; border-top:1px solid #f0f0f0}
    .item{display:flex; align-items:center; gap:12px; padding:14px 16px; border-bottom:1px solid #f2f2f2; text-decoration:none; color:#111}
    .item:hover{background:#fff5f6}
    .icon{width:28px; height:28px; border-radius:8px; background:#ffedf0; display:grid; place-items:center; font-weight:900; color:var(--accent)}
    .meta{font-size:12px; color:#666}

    /* ===== Accessibility: reduce motion ===== */
    @media (prefers-reduced-motion: reduce){
      .intro::before, .intro-logo, .intro-title, .intro-sheen::before, .wordmark span{animation:none !important}
    }
  </style>
</head>
<body>
  <div class="bg" aria-hidden="true"></div>

  <!-- HEADER / NAV -->
  <header class="site-header">
    <a class="logo" href="index.html" aria-label="Inicio">
      <img src="logo (2).png" alt="Logo CEMNG" style="height:44px;object-fit:contain">
      <span>C.E.M.N.G</span>
    </a>

    <button class="nav-toggle" aria-label="Abrir menú" aria-expanded="false">☰</button>

    <nav class="site-nav" aria-label="Principal">
      <a href="oferta.html">Carreras</a>
      <a href="#" data-open="info">Información</a>
      <a href="actividades.html">Actividades</a>
      <a href="galeria.html">Galería</a>
      <a href="contacto.html">Contacto</a>
    </nav>
  </header>

  <!-- INTRO -->
  <section class="intro" aria-hidden="true">
    <div class="intro-content">
      <img class="intro-logo" src="logo (2).png" alt="Logo CEMNG"/>
      <h1 class="intro-title">C.E.M.N.G<br>DIONISIO DE HERRERA</h1>
      <div class="intro-sheen"></div>
    </div>
  </section>

  <!-- HERO -->
  <main class="hero" aria-label="C.E.M.N.G DIONISIO DE HERRERA">
    <section class="hero-inner">
      <img class="hero-logo" src="logo (2).png" alt="Logo CEMNG"/>
      <h3 class="wordmark"><span>C.E.M.N.G</span></h3>
      <h3 class="wordmark"><span>DIONISIO DE HERRERA</span></h3>
      <p class="sub">Formamos ciudadanos íntegros con valores, ciencia y tecnología.</p>
      <div class="actions">
        <a class="btn" href="oferta.html">Ver Carreras</a>
        <a class="btn" href="#" data-open="info">Información del Colegio</a>
        <a class="btn" href="galeria.html">Galería</a>
        <a class="btn" href="actividades.html">Actividades</a>
      </div>
    </section>
  </main>

  <!-- MODAL INFORMACIÓN / BUSCADOR -->
  <section class="modal" id="infoModal" aria-hidden="true">
    <div class="modal-backdrop" data-close></div>
    <div class="sheet" role="dialog" aria-modal="true" aria-labelledby="infoTitle">
      <div class="sheet-header">
        <div class="badge">ℹ️ Información</div>
        <button class="close" data-close>✕</button>
      </div>
      <div class="searchbar">
        <input id="query" type="search" placeholder="Buscar: carreras, actividades, historia, reglamento, contacto…" autofocus />
      </div>
      <div class="chips">
        <button class="chip" data-tag="carreras">Carreras</button>
        <button class="chip" data-tag="actividades">Actividades</button>
        <button class="chip" data-tag="historia">Historia</button>
        <button class="chip" data-tag="dionisio">Dionisio de Herrera</button>
        <button class="chip" data-tag="perfiles">Perfiles</button>
        <button class="chip" data-tag="contacto">Contacto</button>
        <button class="chip" data-tag="galería">galería</button>
      </div>
      <div class="results" id="results" role="listbox"></div>
    </div>
  </section>

  <!-- Filtro SVG -->
  <svg width="0" height="0" style="position:absolute">
    <filter id="wavy">
      <feTurbulence type="fractalNoise" baseFrequency="0.01 0.02" numOctaves="2" seed="3" result="noise">
        <animate attributeName="baseFrequency" dur="6s" values="0.01 0.02; 0.02 0.03; 0.01 0.02" repeatCount="indefinite"/>
      </feTurbulence>
      <feDisplacementMap in="SourceGraphic" in2="noise" scale="12" xChannelSelector="R" yChannelSelector="G">
        <animate attributeName="scale" dur="6s" values="8;14;8" repeatCount="indefinite"/>
      </feDisplacementMap>
    </filter>
  </svg>

  <script>
    // ====== Intro timing ======
    window.addEventListener('load', () => {
      setTimeout(()=>{
        document.documentElement.classList.add('loaded');
        document.body.style.overflow = 'auto';
      }, 2800);
    });

    // ====== Mobile nav toggle ======
    const navToggle = document.querySelector('.nav-toggle');
    const siteNav = document.querySelector('.site-nav');
    navToggle?.addEventListener('click', () => {
      const open = siteNav.classList.toggle('open');
      navToggle.setAttribute('aria-expanded', String(open));
    });
    // Close menu when clicking a link (mobile)
    siteNav?.querySelectorAll('a').forEach(a => a.addEventListener('click', ()=>{
      siteNav.classList.remove('open');
      navToggle.setAttribute('aria-expanded', 'false');
    }));

    // ====== Modal Información ======
    const modal = document.getElementById('infoModal');
    const openers = document.querySelectorAll('[data-open="info"]');
    const closers = modal.querySelectorAll('[data-close]');
    const query = document.getElementById('query');
    const results = document.getElementById('results');

    const data = [
      { title:'Historia del Instituto', meta:'Historia', href:'historia.html', tags:['historia','instituto','trayectoria'] },
      { title:'Información General', meta:'Colegio', href:'info.html', tags:['información','colegio','admisión','horarios','ubicación','contacto'] },
      { title:'Dionisio de Herrera', meta:'Biografía', href:'dionisio.html', tags:['dionisio','biografía','historia'] },
      { title:'Actividades Extracurriculares', meta:'Vida estudiantil', href:'actividades.html', tags:['actividades','deportes','arte','clubes','stem'] },
      { title:'Carreras y Modalidades', meta:'Oferta académica', href:'oferta.html', tags:['carreras','técnico','bachillerato','contabilidad','informática'] },
      { title:'Perfiles del Estudiante (Básica y Media)', meta:'Perfiles', href:'perfiles.html', tags:['perfiles','básica','media','competencias'] },
      { title:'Galería del Instituto', meta:'Galería', href:'galeria.html', tags:['galería','fotos','eventos','banda','deportes','viajes','cultura','celebraciones','trabajo social'] },
      { title:'Contacto y Ubicación', meta:'Contacto', href:'contacto.html', tags:['contacto','ubicación','teléfono','correo'] }
    ];

    function render(list){
      results.innerHTML = list.map(item=>`
        <a class="item" href="${item.href}">
          <div class="icon">${item.meta[0].toUpperCase()}</div>
          <div>
            <div class="title">${item.title}</div>
            <div class="meta">${item.meta}</div>
          </div>
        </a>`).join('');
    }

    function open(){ modal.classList.add('open'); render(data); query.value=''; setTimeout(()=>query.focus(),0); }
    function close(){ modal.classList.remove('open'); }

    openers.forEach(btn=> btn.addEventListener('click', (e)=>{ e.preventDefault(); open(); }));
    closers.forEach(btn=> btn.addEventListener('click', close));
    modal.addEventListener('click', (e)=>{ if(e.target.closest('[data-close]')|| e.target.classList.contains('modal-backdrop')) close(); });
    window.addEventListener('keydown', (e)=>{ if(e.key==='Escape' && modal.classList.contains('open')) close(); });

    function search(q){
      const s = q.trim().toLowerCase();
      if(!s) return data;
      return data.filter(item =>
        item.title.toLowerCase().includes(s) ||
        item.meta.toLowerCase().includes(s) ||
        item.tags.some(t => t.includes(s))
      );
    }

    query.addEventListener('input', () => render(search(query.value)));
    document.querySelectorAll('.chip').forEach(ch => ch.addEventListener('click', ()=>{ query.value = ch.dataset.tag; render(search(query.value)); query.focus(); }));

    // primera carga de resultados por si el usuario abre y no escribe
    render(data);
  </script>
</body>
</html>
